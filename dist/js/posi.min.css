var POSI="";function posiArr(s){for(var e=localStorage.getItem("posiTypeCode"),i="",t=0,a=s.length;t<a;t++)s[t].code==e?i+="<li code ="+e+' style= "background:#f1f3f6">'+s[t].name+"</li>":i+="<li code ="+s[t].code+">"+s[t].name+"</li>";$(".f_posiList .f_posi_ul1").html(i)}function mobile1(s,e){for(var i=0,t=e.length;i<t;i++)if(s==e[i].code){var a="",o=e[i].subLevelModelList,n=0;for(t=o.length;n<t;n++)a+="<li code = "+o[n].code+">"+o[n].name+"</li>";$(".f_posiList .f_posi_ul2").html(a)}}function mobile2(s,e){for(var i="",t=0,a=e.length;t<a;t++)for(var o=e[t].subLevelModelList,n=0,l=o.length;n<l;n++)if(s==o[n].code){i="";var c=o[n].subLevelModelList,r=0;for(a=c.length;r<a;r++)i+="<li>"+c[r].name+"</li>";$(".f_posiList .f_posi_ul3").html(i)}}$.ajax({url:"./data/position.json",type:"get",dataType:"json",success:function(s){POSI=s.zpData}}),$(".f_positype").click(function(){"none"==$(".f_posiList").css("display")?($(this).addClass("bg"),posiArr(POSI),$(".f_posiList").css("display","block"),$(".f_posi_ul1").parent().css("display","block")):($(this).removeClass("bg"),$(".f_posiList").css("display","none"))}),$(".f_posiList .f_posi_ul1").on("mousemove","li",function(s){mobile1($(s.target).attr("code"),POSI)}),$(".f_posiList .f_posi_ul2").on("mousemove","li",function(s){mobile2($(s.target).attr("code"),POSI)}),$(".f_posiList").on("mouseover","li",function(){if($(this).css("background","#f1f3f6").siblings().css("background","#fff"),"f_posi_ul1"==$(this).parent().attr("class")){var s=$(this).attr("code");localStorage.setItem("posiTypeCode",s)}}),$(".f_posi_ul1,.f_posi_ul2,.f_posi_ul3,.f_posi_d2").mouseover(function(){$(".f_posiList div").css("display","block");var s=$(this);if("f_posi_d2"!=this.className){s=$(this).parent();var e=$(this).siblings().eq(0),i=$(this).height(),t=$(e).height(),a=i/t-.3;if(t<i){$(e).css("display","block");var o=$(e).children()[0];"P"==o.nodeName&&($(o).css("height",t/a),$(o).css("display","block"))}else $(e).children().css("display","none")}for(var n=$(s).siblings().children(),l=0,c=n.length;l<c;l++)"DIV"==$(n[l])[0].nodeName&&$(n[l]).css("display","none"),"f_posi_ul2"!=this.className&&"f_posi_d2"!=this.className||($(n[2]).siblings().css("top",0),$(n[2]).children().eq(0).css("top",0)),"f_posi_ul1"==this.className&&($(n[l]).children().eq(0).css("top",0),$(n[l]).siblings().css("top",0),$(".f_posiList").children().eq(2).css("display","none"))}),$(".f_posi_ul1,.f_posi_ul2,.f_posi_ul3").mousewheel(function(s,e){var i=$(this).siblings(),t=$(this).siblings().children(),a=$(this).height(),o=$(t).height(),n=$(i).height(),l=n-o,c=a-n;if(0==parseInt($(t).css("top"))&&0<e)return!1;var r=parseFloat($(t).css("top"))+-e*c/l;return r=l<(r=(r=Math.abs(r))<1?0:r)?l:r,$(t).css("top",r),$(this).css("top",-r*c/l),!1}),$(".f_posi_sor p").mousedown("click",function(s){this.y=s.offsetY;var i=$(this).parent(),t=$(i).siblings().height()/$(i).height()+.2;this.height=$(i).height()-$(this).height(),_this=this,$(i).siblings().height()>$(i).height()&&($(i).parent().bind("mousemove",function(s){var e=s.pageY-$(this).offset().top-_this.y;return e=(e=e<1?0:e)>_this.height?_this.height:e,e=Math.abs(e),$(_this).css("top",e),$(i).siblings().css("top",-e*t),!1}),$(document).mouseup(function(){return $(i).parent().unbind("mousemove"),!1}))}),$(".f_posi_ul3").click(function(s){"LI"==s.target.nodeName&&($(".f_positype b").html($(s.target).html()),$(".f_posiList").css("display","none"),$(".f_positype").removeClass("bg"))});var COM="";function company(){for(var s=localStorage.getItem("companyCode"),e="<li>不限</li>",i=0,t=COM.length;i<t;i++)s==COM[i].code?e+="<li code ="+s+' style="color:#00d7c6">'+COM[i].name+"</li>":e+="<li code ="+COM[i].code+">"+COM[i].name+"</li>";$(".f_company_ul").html(e)}$.ajax({url:"data/oldindustry.json",type:"get",dataType:"json",success:function(s){COM=s.zpData}}),$(".f_company").click(function(){"none"==$(".f_company_ul").css("display")?($(this).addClass("bg"),company(COM),$(".f_company_ul").css("display","block")):($(this).removeClass("bg"),$(".f_company_ul").css("display","none"))}),$(".f_company_ul").on("click","li",function(s){var e=$(s.target).attr("code");localStorage.setItem("companyCode",e),$(s.target).css("color","#00d7c6"),$(".f_company b").html($(s.target).html()),$(".f_company_ul").css("display","none"),$(".f_company").removeClass("bg")}),$(".f_screening").on("mouseover","span",function(){$(this).siblings().addClass("f_action"),$(this).parent().siblings().children("div").removeClass("f_action")}),$(".f_screening").on("click","li,em",function(){if("LI"==this.nodeName){var s="<em></em>"+$(this).html();$(this).parent().parent().removeClass("f_action"),$(this).parent().parent().siblings().html(s),$(this).parent().parent().siblings().addClass("f_spanColor")}"EM"==this.nodeName&&window.location.reload()}),$(".f_screening .f_scr_div div").mouseover(function(s){"DIV"==s.target.nodeName&&$(this).removeClass("f_action")});var cardNUM=0,cardJSON=[];function f_cardAjax(s,e){$(document).scrollTop(0);for(var i="",t=e+30,a=s.length,o=e;o<t&&o<a;o++)i+='<li><div class="f_primary"><h3>'+s[o].jobName+"<span>"+s[o].pay+"</span></h3><p>"+s[o].address+"<em></em>"+s[o].year+"<em></em>"+s[o].education+'</p></div><div class="f_company_nama"><h3>'+s[o].companyName+"</h3><p>"+s[o].tmt+"<em></em>"+s[o].financing+"<em></em>"+s[o].peopleNum+'</p></div><div class="f_contact"><h3><img src="'+s[o].img+'">'+s[o].recruiter+"<em></em>"+s[o].type+"</h3></div><a>立即沟通</a></li>";$(".f_main_left").html(i)}function f_read(){if(localStorage.getItem("readArr")){for(var s="",e="",i=[],t=localStorage.getItem("readArr").split(","),a=0;a<t.length;a++)(a+1)%3==0?(s+="<li><h4>"+(i=(e+=t[a]).split(","))[0]+"<span>"+i[1]+"</span></h4><p>"+i[2]+"</p></li>",e=""):e+=t[a]+",";$(".f_read").children("ul").html(s)}}$.ajax({url:"data/jobDescription.json",type:"get",dataType:"json",success:function(s){for(var e in s)for(var i=0;i<s[e].length;i++)cardJSON.push(s[e][i]);f_cardAjax(cardJSON,cardNUM)}}),$(".f_page").on("click","a",function(){var s=!0;$(this).is(".f_prev")&&(cardNUM<30?cardNUM+=30:$(".f_page").children(".f_aselect").removeClass("f_aselect").prev().addClass("f_aselect"),cardNUM-=30,s=!1),$(this).is(".f_next")&&((cardNUM+=30)>=cardJSON.length?cardNUM-=30:$(".f_page").children(".f_aselect").removeClass("f_aselect").next().addClass("f_aselect"),s=!1),s&&($(this).addClass("f_aselect").siblings().removeClass("f_aselect"),cardNUM=30*($(this).html()-1)),setTimeout(function(){f_cardAjax(cardJSON,cardNUM)},500)}),$(".f_card_left").on("mouseover","li",function(){$(this).children("a").addClass("btn"),$(this).children(".f_contact").css("display","none")}),$(".f_card_left").on("mouseout","li",function(){$(this).children("a").removeClass("btn"),$(this).children(".f_contact").css("display","block")}),$(".f_card_left").on("click","li",function(){var s=$(this).children().eq(0).children("h3").html(),e=$(this).children().eq(1).children("h3").html(),i=s.split("<span>"),t=[i[0],i[1].split("</span>")[0],e];if(localStorage.getItem("readArr")){for(var a=localStorage.getItem("readArr").split(","),o=0;o<t.length;o++)a.push(t[o]);var n=[],l="";for(o=0;o<a.length;o++)(o+1)%3==0?(l+=a[o],n.push(l),l=""):l+=a[o]+",";a=Array.from(new Set(n))}else{(a=[]).push(t)}for(;5<a.length;)n.shift();return localStorage.setItem("readArr",a),f_card(),!1}),f_read(),$(".f_feedback").on("click","div",function(){var s=parseInt($(this).css("background-position-x"));if($(this).hasClass("f_select"))return s=48+s+"px",$(this).css("background-position-x",s),$(this).removeClass("f_select"),$(".f_feedback .f_btn").addClass("f_ban"),!1;var e=$(this).siblings();s=-48+s+"px";for(var i=0;i<e.length;i++)if(e.eq(i).hasClass("f_select")){var t=e.eq(i).css("background-position-x");t=parseInt(t)+48+"px",e.eq(i).css("background-position-x",t)}$(this).css("background-position-x",s),$(this).addClass("f_select").siblings().removeClass("f_select"),$(".f_feedback .f_btn").removeClass("f_ban")}),$(window).scroll(function(){400<parseInt($(document).scrollTop())?($(".f_condition").children("dl").hide(),$(".f_warpSearch").addClass("f_winGun")):($(".f_condition").children("dl").show(),$(".f_warpSearch").removeClass("f_winGun"))});